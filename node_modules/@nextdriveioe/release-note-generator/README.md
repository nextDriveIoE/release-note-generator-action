# release-note-generator

### Usage

`yarn global add @nextdriveioe/release-note-generator`

### CLI usage

```
release-note-generator -h
```

### Normal usage

```
release-note-generator generate -s <TAG_CURRENT> -e <TAG_NEW> -r nextDriveIoE/foo -t <GITHUB_TOKEN>
```

### JIRA Release note

```
release-note-generator generate -s <TAG_CURRENT> -e <TAG_NEW> -r nextDriveIoE/foo -t <GITHUB_TOKEN> -j <JIRA_BASE_URL> -o <JIRA_PROJECT_NAME> -u <JIRA_USERNAME> -p <JIRA_PASSWORD>
```

### Options 

|option|alias|description|
|---|---|---|
|-c|config|config path Ex: config/foo.json|
|-r|repo|Github owner/repo|
|-l|label|Commit message you want to collect|
|-s|start|Start tag|
|-e|end|End tag|
|-t|token|Github token|
|-j|jira|Jira base url|
|-o|project|Jira project|
|-u|username|Jira username|
|-p|password|Jira password|
|-n|noUpdate|Update Github release page|


### Configuration

Create config json to config folder
- config/foo.json

Ex:
```
{
  "repo": "owner/repository",
  "token": "<GITHUB-TOKEN>",
  "jira": "https://oajira.nextdrive.io",
  "project": "<JIRA-PROJECT>",
  "username": "carlos.li",
  "password": "password",
  "noUpdate": true,
  "packagePath": "package.json",
  "deepPackages": "@nextdriveioe/hems-api,@nextdriveioe/ioe-auth",
  "deepRepos": "nextdriveioe/api-mono,nextdriveioe/api-mono",
  "deepLabels": "hems-api,ioe-auth",
  "deepPrefix": "hems-api@,ioe-auth@",
}
```

### Node js usage

```
import { GenerateCommand } from "@nextdriveioe/release-note-generator"

const releaseGenerator = new GenerateCommand();
releaseGenerator.handler({
    config?: string;
    repo: string;
    label?: string;
    start: string;
    end: string;
    token: string;
    jira?: string;
    project?: string;
    username?: string;
    password?: string;
    noUpdate?: boolean;
    packagePath?: string;
    deepPackages?: string;
    deepRepos?: string;
    deepLabels?: string;
    deepPrefix?: string;
})

```
