import { parsePackageDiff } from "../../src/parser/parsePackageDiff";

describe("parsePackageDiff spec", () => {
    it("should parsePackageDiff proper", () => {
        const result = parsePackageDiff(
            "@nextdriveioe/hems-api",
            "@@ -1,6 +1,6 @@\n {\n   \"name\": \"@nextdriveioe/ioe-api\",\n-  \"version\": \"0.0.9\",\n+  \"version\": \"0.0.11\",\n   \"description\": \"\",\n   \"author\": \"\",\n   \"license\": \"UNLICENSED\",\n@@ -24,7 +24,7 @@\n     \"@nestjs/terminus\": \"^7.0.1\",\n     \"@nestjs/typeorm\": \"^7.0.0\",\n     \"@nextdriveioe/eco-trans-api\": \"0.0.14\",\n-    \"@nextdriveioe/hems-api\": \"0.0.38\",\n+    \"@nextdriveioe/hems-api\": \"0.0.39\",\n     \"@nextdriveioe/ioe-auth\": \"0.0.39\",\n     \"@nextdriveioe/ioe-dto\": \"0.0.2\",\n     \"@nextdriveioe/ioe-entities\": \"0.0.32\","
        );

        expect(result[0]).toBe("0.0.38");
        expect(result[1]).toBe("0.0.39");
    });
});
